# 개발 문서 관리 정책 (Documentation Management Policy)

본 정책은 프로젝트의 모든 개발 문서가 코드와 일관성을 유지하고, 팀원 및 기여자가 쉽게 이해하고 유지보수할 수 있도록 기준을 제시합니다. 본 프로젝트는 **'Doc-as-Code(코드로서의 문서)'** 철학을 따릅니다.

## 1. 기본 원칙

- **단일 진실 공급원 (Single Source of Truth)**: 모든 개발 문서는 외부 위키(Confluence 등)가 아닌 소스 코드 저장소(GitHub/GitLab)의 `docs/` 디렉토리 내에 존재해야 합니다.
- **코드와 문서의 동기화**: API 스펙, 아키텍처, 환경 변수(`.env`) 등의 변경이 발생하면, 반드시 관련된 문서 수정이 동일한 커밋 또는 Pull Request(PR)에 포함되어야 합니다.
- **최소한의 문서화**: 중복을 피하고, 코드로 표현할 수 있는 부분(예: Joi 스키마, 타입 정의)은 코드 자체가 문서 역할을 하도록 작성하며, 문서는 맥락(Context)과 의도(Why)를 설명하는 데 집중합니다.

## 2. 문서 업데이트 프로세스

기능 추가 및 버그 수정 시 다음 프로세스를 따릅니다.

1. **변경 범위 파악**: 작업 시작 전, 수정될 코드와 연관된 문서(API 엔드포인트, 아키텍처 다이어그램, 환경 변수 등)를 식별합니다.
2. **문서 동시 수정**: 코드 작성과 함께 마크다운 문서를 수정합니다.
3. **PR(Pull Request) 체크리스트 확인**: PR 생성 시 아래 항목을 검토합니다.
   - [ ] 새로운 환경 변수가 추가되었는가? -> `README.md` 및 `deployment.md` 반영
   - [ ] API 인터페이스가 변경되었는가? -> `api/endpoints.md` 반영
   - [ ] 시스템 구조나 주요 라이브러리가 변경되었는가? -> `architecture/overview.md` 반영 및 새로운 ADR 작성
4. **코드 리뷰**: 리뷰어는 로직뿐만 아니라 문서의 최신화 여부를 반드시 함께 검토하고 승인(Approve)합니다.

## 3. 작성 및 포맷팅 표준

- **언어 및 파일 형식**: 모든 문서는 한국어(필요시 영문 병기)로 작성하며, 확장자는 `.md` (Markdown)를 사용합니다.
- **코드 블록**: 터미널 명령어, JSON 응답, 설정 파일 내용 등은 반드시 마크다운 코드 블록(```)으로 감싸고, 적절한 언어 태그(json, bash, javascript 등)를 지정합니다.
- **명명 규칙**: 문서의 파일명은 소문자와 하이픈(-)만 사용하여 작성합니다. (예: `architecture-overview.md`)
- **버전 명시**: 외부 의존성(Node.js, Docker, Puppeteer 등)에 대한 요구 사항을 작성할 때는 항상 테스트가 완료된 기준 버전을 명시합니다.

## 4. 기술 결정 기록 (ADR) 관리

시스템의 아키텍처나 주요 기술 스택에 중대한 변경이 있을 경우, 반드시 `docs/adr/` 디렉토리에 다음 형식으로 기록을 남깁니다.

- **파일명**: `NNNN-short-title.md` (예: `0002-migrate-to-s3-storage.md`)
- **필수 포함 항목**:
  1. Context (도입 배경 및 문제 상황)
  2. Decision (결정 사항)
  3. Consequences (결과, 장단점 및 후속 조치)

## 5. 정기 점검 (문서화 스프린트)

- 매 분기(또는 메이저 릴리즈 직전)마다 '문서화 스프린트'를 배정하여, 실제 동작하는 코드와 문서 간의 불일치가 없는지 전체적으로 점검하고 리팩토링합니다.